+++
date = '2026-02-01T14:27:00+08:00'
draft = false
title = 'Proxyos Weekly 028'
slug = 'proxyos-weekly-028'
series = ['proxyos-weekly']
categories = ['ProxyOS', 'DevLog']
tags = ['ProxyOS', '周报', '独立游戏开发', '技术日志']

+++

> TL;DR 概览
>
> 

{{< toc >}}

# 本期目标

- [x] 写个玩家操作手册过一下第二章的代码能力
- [ ] 尽量补全相关功能

# 进展速记（Changelog）

## 本期假设 / 预期

> 我当时以为世界是怎样的？
> 这个预期中，哪一条被证伪 / 被削弱 / 被确认？

本期有点尴尬，github-copilot在本期第一天休息的时候折腾奇奇怪怪小项目的时候额度用光了，导致本期只有一天施工

所以本期的主要任务会是排查第二章能力，为下一期提供信息。预计脚本执行还得包一层，然后加上任务对轻聊的前后回调

---

……缺的比想象得多，下期好好肝吧

## 本期确定性变化

> 哪些东西现在「更确定」或「被明确否定」了？
> “确认 X 不可行”
> “删掉 Y 抽象”
> “意识到 Z 是伪问题”

### 新增：

- 

### 变更：

- 整理了序章、第一章、第二章的剧本
- 优化第二章的剧本，现在幽灵进程的身份更明朗了

### 修复：

- 

### 删除：

- 

# 主要进展内容/本期关键判断点

> 我做出了哪些「如果错了也要付代价」的判断？

## 开发检查清单

### 网页内容

#### 茶馆论坛 `proxy://tea-talk.vibe`
- [x] 页面框架（index.html, post.html）
- [x] 帖子1: laurence042是谁？（`posts/laurence042.json`）
- [x] 帖子2: 天罗系列的防壁代理怎么样？（`posts/tianluofangbi.json`）
- [x] 帖子3: 有代理跳跃教学吗？（`posts/url-access.json`）
- [x] 帖子4: 想要一个女朋友（`posts/girlfriend.json`）

#### 玄云观论坛 `proxy://cybertaoism.team`
- [x] 页面框架（index.html, board.html, post.html）
- [x] FAQ板块（6个帖子：are-you-hackers, proxy-basics, firewall-guide, multiple-accounts, how-to-reply, data-security）
- [x] 解惑版（3个帖子：future-question, crow-mascot, emotional-program）
- [x] 求助版（6个帖子：always-mess-up, dont-know-what-to-do, feeling-tired, lost-soul, relationship-advice, strange-button）
- [x] temp-42 隐藏页面（`outsourcing-recruitment/temp-42/index.html`，含 Base64 谜题）
- [x] 外包注册页面（`outsourcing-register/`）

#### 蜜罐聊天室 `proxy://cybertaoism.team/chat/vip`
- [ ] 页面框架（`chat/vip/index.html`）
  - [ ] 更新实现：设定上聊天室里的用户不该发现自己在被“小助手”糊弄
  - [ ] 更新实现：需要添加“调试中，尚未启用”的标识，否则玩家会质疑“为什么蜜罐聊天室里只有我发言，你是不是在说我是喷子”
- [ ] **动态状态显示**：根据任务完成状态显示不同内容
  - [ ] 初始状态：显示"尚未启用"
  - [ ] 任务01后：显示"回复逻辑尚未接入"
  - [ ] 任务02后：立刻回复
  - [ ] 任务03后：固定3秒延迟
  - [ ] 任务04后：2-10秒随机延迟

### 轻聊应用（SimpleChat）
- [x] 应用框架（`simple_chat_app.gd`, `simple_chat_app.tscn`）
- [x] 联系人列表
- [x] 消息显示
- [x] Python 插件系统支持
- [x] 标签处理插件（`tag_processor.py`）
- [x] Laurence042 聊天记录（`chat/laurence042.json`，含隐藏标签）
- [x] 玄云观任务派发联系人（`chat/cybertaoism.json`，基础框架）
- [ ] **任务消息流**：根据任务进度自动发送新消息
  - [ ] 可以通过来自EventHub的事件触发特定联系人的特定预设消息（即剧本中的“普通信息”）
  - [ ] 预设消息需要可以用tres配置
  - [ ] 任务01 普通信息 + 任务描述
  - [ ] 任务01 完成反馈 + 任务02
  - [ ] 任务02 完成反馈 + 任务03
  - [ ] 任务03 完成反馈 + 任务04
  - [ ] 任务04 完成反馈 + 任务05
  - [ ] 任务05 完成反馈 + 任务06触发

### 任务系统
- [x] POCKET 任务系统框架（`TaskManager`, `TaskDefinition`）
- [x] 第一章任务（`__system_init__`, `1_user_location`, `recovery/`）
- [ ] **第二章任务定义**（需创建 `task_defs/chapter2/` 目录）
  - [ ] 通过任务的发布回调来触发预设的玄云观消息，在任务信息里加个任务接受后和任务完成后触发的轻聊信息id列表
  - [ ] 任务01: 训练任务 - 识别敏感词
  - [ ] 任务02: 小嘴抹了蜜 - 自动回复
  - [ ] 任务03: 小嘴有时候抹了蜜 - 定时器
  - [ ] 任务04: 小嘴有时候可能抹了蜜 - 随机延迟
  - [ ] 任务05: 电子美颜与素颜 - 标签处理
  - [ ] 任务06: 旧日之影 - 追查真相

### 编程任务框架代码
- [ ] **玄云观任务文件**（需创建 `fs/cybertaoism/` 目录）
  - [ ] `chat_filter/main.py` — 任务01框架
  - [ ] `sweet_chat/main.py` — 任务02框架
  - [ ] `sweet_chat/checker.py` — 任务03/04框架
  - [ ] `chat_filter/truth_lens.py` — 任务05框架
- [ ] **任务验证逻辑**
  - [ ] 任务01: 敏感词检测（单元测试）
  - [ ] 任务02: 自动回复（单元测试）
  - [ ] 任务03: 定时器（时间检测）
  - [ ] 任务04: 随机延迟（统计检测）
  - [ ] 任务05: 标签处理（字符串比对）

### 数据段系统
- [x] DataSegmentManager 框架
- [x] DataSegmentTreePanel（控制面板集成）
- [ ] **第二章数据段定义**
  - [ ] 外包资格解锁数据段

### 开发环境配置
- [x] `fs/开发环境配置/README.md` — VS Code 安装指南
- [x] `fs/.vscode/settings.json` — 编辑器配置
- [x] `fs/.vscode/launch.json` — 调试配置
- [ ] **首次编程任务引导**
  - [ ] 控制节点备注弹窗机制
  - [ ] 引导任务自动解锁配置文件

### 其他
- [ ] 解锁外包资格后，在控制节点通过任务系统提供开发环境配置的同时，解锁一个玄云观脚本验证应用。将脚本从windows拖入其中后会使用预设的测试数据进行验证，这个应该被配置成一个独立于任务，但是可以和任务通过任务ID关联的形式。
- [ ] 标签处理插件应用到轻聊历史记录的逻辑（任务05完成后触发）
- [ ] 章节完成检测（任务06完成后进入第三章）



# 瓶颈与问题清单

> 哪些问题还没解，但也许我已经知道“它们不是什么”？

# 下期计划（Next）

下期优先把蜜罐和任务系统搞定

## 开发检查清单

### 网页内容

#### 蜜罐聊天室 `proxy://cybertaoism.team/chat/vip`
- [ ] 页面框架（`chat/vip/index.html`）
  - [ ] 更新实现：设定上聊天室里的用户不该发现自己在被“小助手”糊弄
  - [ ] 更新实现：需要添加“调试中，尚未启用”的标识，否则玩家会质疑“为什么蜜罐聊天室里只有我发言，你是不是在说我是喷子”
- [ ] **动态状态显示**：根据任务完成状态显示不同内容
  - [ ] 初始状态：显示"尚未启用"
  - [ ] 任务01后：显示"回复逻辑尚未接入"
  - [ ] 任务02后：立刻回复
  - [ ] 任务03后：固定3秒延迟
  - [ ] 任务04后：2-10秒随机延迟

### 轻聊应用（SimpleChat）
- [ ] **任务消息流**：根据任务进度自动发送新消息
  - [ ] 可以通过来自EventHub的事件触发特定联系人的特定预设消息（即剧本中的“普通信息”）
  - [ ] 预设消息需要可以用tres配置
  - [ ] 任务01 普通信息 + 任务描述
  - [ ] 任务01 完成反馈 + 任务02
  - [ ] 任务02 完成反馈 + 任务03
  - [ ] 任务03 完成反馈 + 任务04
  - [ ] 任务04 完成反馈 + 任务05
  - [ ] 任务05 完成反馈 + 任务06触发

### 任务系统
- [ ] **第二章任务定义**（需创建 `task_defs/chapter2/` 目录）
  - [ ] 通过任务的发布回调来触发预设的玄云观消息，在任务信息里加个任务接受后和任务完成后触发的轻聊信息id列表
  - [ ] 任务01: 训练任务 - 识别敏感词
  - [ ] 任务02: 小嘴抹了蜜 - 自动回复
  - [ ] 任务03: 小嘴有时候抹了蜜 - 定时器
  - [ ] 任务04: 小嘴有时候可能抹了蜜 - 随机延迟
  - [ ] 任务05: 电子美颜与素颜 - 标签处理
  - [ ] 任务06: 旧日之影 - 追查真相

### 编程任务框架代码
- [ ] **玄云观任务文件**（需创建 `fs/cybertaoism/` 目录）
  - [ ] `chat_filter/main.py` — 任务01框架
  - [ ] `sweet_chat/main.py` — 任务02框架
  - [ ] `sweet_chat/checker.py` — 任务03/04框架
  - [ ] `chat_filter/truth_lens.py` — 任务05框架
- [ ] **任务验证逻辑**
  - [ ] 任务01: 敏感词检测（单元测试）
  - [ ] 任务02: 自动回复（单元测试）
  - [ ] 任务03: 定时器（时间检测）
  - [ ] 任务04: 随机延迟（统计检测）
  - [ ] 任务05: 标签处理（字符串比对）

### 数据段系统
- [ ] **第二章数据段定义**
  - [ ] 外包资格解锁数据段

### 开发环境配置
- [ ] **首次编程任务引导**
  - [ ] 控制节点备注弹窗机制
  - [ ] 引导任务自动解锁配置文件

### 其他
- [ ] 解锁外包资格后，在控制节点通过任务系统提供开发环境配置的同时，解锁一个玄云观脚本验证应用。将脚本从windows拖入其中后会使用预设的测试数据进行验证，这个应该被配置成一个独立于任务，但是可以和任务通过任务ID关联的形式。
- [ ] 标签处理插件应用到轻聊历史记录的逻辑（任务05完成后触发）
- [ ] 章节完成检测（任务06完成后进入第三章）

# 试玩版

预计第一个可玩版本将在第二章的第一个涉及外部编程的游戏内容完成后推出