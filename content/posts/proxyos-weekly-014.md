+++
date = '2025-12-14T20:37:00+08:00'
draft = false
title = 'Proxyos Weekly 014'
slug = 'proxyos-weekly-014'
series = ['proxyos-weekly']
categories = ['ProxyOS', 'DevLog']
tags = ['ProxyOS', '周报', '独立游戏开发', '技术日志']

+++

> TL;DR 概览
>
> ANORA的回放功能（无UI模式）将将完成，但还需要适配

{{< toc >}}

## 本期目标

- [x] 无UI模式(纯逻辑图，游戏内通过GDScript控制)
  - [x] 初始化图
  - [x] 控制按步执行
  - [x] 一些为了通用的动画演示准备的画面效果
  - [ ] 集成进GD
- [ ] （有时间的话）适配相关关卡脚本
  - [ ] （有时间的话）python脚本输出特定指令控制GDScript控制逻辑图

## 进展速记（Changelog）

### 新增：

- ANORA 录制模式

### 变更：

- 使用状态机增强了执行器的运行逻辑，现在支持单步执行
- 优化了节点显示，现在执行状态的显示不会再导致节点抖动

### 修复：

## 主要进展内容

ANORA的逻辑图执行的录制回放已完成，速度低于预期，导致没来得及集成进Godot。

### 进度状态不佳的主要原因

- 最初我把录制回放视为单独的模块了，但是实际上录制回放本质上应该是侦听执行器事件、模仿执行器发事件。这个实现思路差异在前两天导致了大量的状态不一致的debug和返工
- 设计时没有明确各个vue模块、composition的边界，导致回放和主图的加载分别实现了两套反序列化逻辑
- 最初想简单了，想要按事件设Carousel，但是忘了port值变更、节点状态变更、边传值都是高频发生且强绑定的，导致实际易用性糟糕不得不重构

### 下次需要更正的地方

- 实现任意模块前先思考下其和现有模块的关系，然后尽量复用、增强现有模块，避免出现一个功能多个实现
- 需要预估数据量和分布，然后选择恰当的交互模块

## 瓶颈与问题清单

- 暂无

## 下期计划（Next）

- [ ] 增强ANORA录制
    - [ ] 精简回放界面
    - [ ] 使用URL指定初始化时加载文件（或者其他方式？）
    - [ ] 让外部程序可以用IPC控制播放（继续下一个关键帧.etc）
- [ ] （有时间的话）适配相关关卡脚本
  - [ ] （有时间的话）python脚本输出特定指令控制GDScript控制逻辑图

## 试玩版

预计第一个可玩版本将在第二章的第一个涉及外部编程的游戏内容完成后推出